#include cbuf.tup
include cbuf.tup

#local cflags
CFLAGS_LOCAL =

LIB_LOCAL = cbuf_int.c cbuf.c cbuf_checkpoint.c zcio.c
LIB_NAME=cbuf
# compile library objects
: foreach $(LIB_LOCAL) |> !cc |> {libs}
# build the library
: {libs} |> !lib |>

# build the test files
EXE_LOCAL = cbuf_splice_test.c cbuf_test.c
: foreach $(EXE_LOCAL) |> !cc |> {exes}
: foreach {exes} |> !exe |> 
